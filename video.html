<!DOCTYPE html>
<html>
	<head>
		<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
		<script src="http://p.jwpcdn.com/6/11/jwplayer.js"></script>
		<script>jwplayer.key="vEWJXMWqLF70YcVrJzfi+3bLryzP3QZDvhMuidiq8fQ="</script>
	</head>
	<body>
		<h1>Video demo for rbc.ru</h1>
		<div id="my-video"></div>
			<script type="text/javascript">
			$jp = jwplayer("my-video").setup({
				file: "http://online.video.rbc.ru/online/rbctv_128p/index.m3u8",
				width: '228',
				height: '128',
				primary: 'html5',
				androidhls: true,
				autostart: false,
				mute: true
			});
		</script>

		<input id="doSomething" type="submit" value="Do something" />
		<select id="qualitySelector" name="Quality">
			<option value="p128">128p - 228x128</option>
			<option value="p224">224p - 398x224</option>
			<option value="p360">360p - 640x360</option>
			<option value="p480">480p - 854x480</option>
			<option value="p576">576p - 1024x576</option>
		</select>
		
		<script type="text/javascript">
			$(document).ready(function() {
				$dimensions = $.parseJSON('{\
				"p128": {"width": "228", "height": "128", "source": "http://online.video.rbc.ru/online/rbctv_128p/index.m3u8"},\
				"p224": {"width": "398", "height": "224", "source": "http://online.video.rbc.ru/online/rbctv_224p/index.m3u8"},\
				"p360": {"width": "640", "height": "360", "source": "http://online.video.rbc.ru/online/rbctv_360p/index.m3u8"},\
				"p480": {"width": "854", "height": "480", "source": "http://online.video.rbc.ru/online/rbctv_480p/index.m3u8"},\
				"p576": {"width": "1024", "height":"576", "source": "http://online.video.rbc.ru/online/rbctv_576p/index.m3u8"}}');

				$('#doSomething').click(function() {
					$theStream = $dimensions[$('#qualitySelector').val()];
					$player = jwplayer("my-video");
					$player.setup({
						file: $theStream.source,
						width: $theStream.width,
						height: $theStream.height,
						primary: 'html5',
						androidhls: true,
						autostart: false,
						mute: true
					});
					// $player.load([{
					// 	file: $theStream.source
					// }]);
					$player.play(true);
				});
			});
		</script>
	</body>
</html>